<!DOCTYPE html> 
<html>
	<head>
		<script src='../TotoyeVN_2.1.js'></script>
		<style>
		
		</style>
	</head> 
	<body>
		<script type="text/javascript">
			var screen = new TotoyeVN.Screen();
			var Naia = new TotoyeVN.Character("Naia", "red");
			var Me = new TotoyeVN.Character("Me","blue");
			var script = new TotoyeVN.Book();
			var reader = new TotoyeVN.Reader();
			
			var start = new TotoyeVN.button("Start");
			var continu = new TotoyeVN.button("Continue");
			var exit = new TotoyeVN.button("Exit");
			
			//-----------------------------------------------START
			script.startChapter("Start");
			
				script.addDialog(Naia, "Hi there! I'm Naia, and today I'll be talking about version 2.1 of the TotoyeVN Engine.");
					script.background("images/scene1.png");
					script.show("images/Naia_smile.png", "dissolve");
					script.play("sounds/sound1.wav");
					
				script.addDialog(Me, "The what?");
				
				script.addDialog(Naia, "Come on! The TotoyeVN Engine, an open-source JavaScript library that allows you to create a simple visual novel easily even for non-programmers.");
				
				script.addDialog(Naia,"The engine is currently developing by the software developer Lì Wén(just a username) since June 2020 when he decided to create a visual novel engine that uses easy syntax understandable to anyone who knows what is a visual novel.");
				
				script.addDialog(Naia,"Creating a visual novel from the start with JavaScript or using a 2D game engine library would have just created a big size game file where much of the code is concentrating on UI than the story. So, Lì Wén decided to make his game engine and released version 1.0.0 in June 2020 on GitHub, itch.io, and finally on npm(in September).");
				
				script.addDialog(Naia,"A few months later, the developer decided to update the engine by giving it a new structure called 'The Book structure' where the codes will seem more like writing a book for the developer. ");
				
				script.addDialog(Naia,"After putting the new updates, the new version, the 2.0.0, was released in November 2020 by the developer.");
				
				script.addDialog(Naia,"One month after, we're ready for version 2.1 to be released.");
				
				script.addDialog(Naia,"Now, let's talk about some new features of version 2.1.");
				
				//----------------------------------------Book
				script.addBlackScreen("Book class");
					script.stop();
				
				script.addDialog(Naia,"Let's start with the Book class.");
					script.background("images/scene2.png","dissolve");
					script.play("sounds/sound2.wav");
					
				script.addDialog(Naia,"In version 2.0, we used the method 'add' to add text and character names to the script of the game. But, the developer found that the method's name was a little bit confusing, so it was changed to 'addDialog' instead in the new version. Not a big update, but necessary for certain.");
				
				script.addDialog(Naia,"With the name change, a new method was added to the Book class called 'setLetterByLetter()'.");
				
				script.addDialog(Naia,"This method is used to determine if you want the text to appear letter by letter instead of just pop into the screen from nowhere.");
				
				script.setLetterByLetterDisplay(true, 0.01);
				
				script.addDialog(Naia,"An example, is how my sentence just appears right now. It was set to appear letter by letter each 0.01 second.");
				
				script.addDialog(Naia,"Another update is the new method 'addBlackScreen' which can be used to add a black scene as a transition to another scene. You can also add text to the black scene as a title whether to inform the player that he or she begins a new chapter or else");
				
				script.addDialog(Naia,"The next update is another method added called 'resume()'.");
				
				script.addDialog(Naia,"The method is used after the 'pause()' method, to continue to play the soundtrack afterward.");
				
				script.addDialog(Naia,"As the last update for the Book class, we have the 'endChapter()' method.");
				
				script.addDialog(Naia,"Already present in version 2.0, the method can now take a non-mandatory argument. The argument will be a function that you might want to run when the player reaches the end of the current chapter. It gives you more freedom about what happens in the game.");
				
				//------------------------------------------------READER
				
				script.addBlackScreen("Reader class");
					script.stop();
				
				script.addDialog(Naia,"Concerning the Reader class, you don't need to set the Book instance immediately as an argument when you are creating the Reader instance. You can set it later using a new method called 'setBook()' and creating your Reader object without argument. The benefit of that new method is that it allows you to create every object (instance) you want, at the beginning of your codes and then use them afterward.");
					script.background("images/scene3.png","dissolve");
					script.play("sounds/sound3.wav");
				
				script.addDialog(Naia,"The method 'next()' from version 2.0 was removed from external use and is now running internally, only when you click on the dialog box just like most visual novel games. That change at the same time fixes bugs related to it and updates the engine to create a more accurate visual novel.");
				
				script.addDialog(Naia,"The Reader class has another new method called 'close()' that as its name says, close the Reader. It can be useful when you're changing layer view(Screen class). When that method is called, the Reader stops reading the Book and you can now do other things without affecting the Reader. That new method was created to fix another bug found in version 2.0.");
				
				//------------------------------------------------GAMEICON
				
				script.addBlackScreen("gameIcon class");
					script.stop();
				
				script.addDialog(Naia,"The gameIcon class which was used in the previous version to add an icon to the web page, has been removed from TotoyeVN 2.1.");
					script.background("images/scene4.png","dissolve");
					script.play("sounds/sound4.wav");
				
				script.addDialog(Naia,"However, the features were instead added to a new method from the Screen class. This new method is 'setPageIcon' which works exactly as gameIcon.");
				
				script.addDialog(Naia,"For other developers to create the simplest visual novel using the TotoyeVN Engine, some methods from both 'button' and 'image' classes were given smaller versions. An example is the method 'setFont(color, size, style)' from the button class which has now: 'setFontColor(color)', 'setFontSize(size)', 'setFontStyle(style)'. The main method still exists while the other ones are used to customize your games more.");
				
				script.addDialog(Naia,"As you might already notice, bugs found by testing version 2.0 were fixed which makes 2.1 even great.");
				
				//------------------------------------------------END
				
				script.addBlackScreen("End");
					script.stop();
				
				script.addDialog(Naia,"TotoyeVN 2.1 will be released on December 27th of this year on GitHub, itch.io, and finally on npm.");
					script.background("images/scene5.png","dissolve");
					script.play("sounds/sound5.wav");
				
				script.addDialog(Naia,"Do you want to test the TotoyeVN version 2.1?");
				
				script.addChoice([{menu: "Yes, I want to test it", jump: "Yes"},{menu: "No, I'm good. I'll just wait for it.", jump: "No"}]);
				
			script.endChapter();
			
			
			//---------------------------------------------------------YES CHAPTER
			
			script.startChapter("Yes");
			
				script.addDialog(Me,"Yes, I want to test it.");
					script.background("images/scene6.png","dissolve");
					script.show("images/Naia_smile.png", "dissolve");
				
				script.addDialog(Naia,"But, you already did.");
				
				script.addDialog(Me, "What do you mean?");
				
				script.addDialog(Naia,"This visual novel was made with TotoyeVN 2.1 and some new features were even used in it. That's great, right?");
				
				script.addDialog(Naia,"So, are you excited for the version 2.1 release? ");
				
				script.addDialog(Naia,"We'll announce it on our Twitter account when the engine is available online. ");
				
				script.addDialog(Naia,"Bye.");
				
			script.endChapter(function(){
				screen.changeView("main");
			});
			
			//--------------------------------------------------------NO CHAPTER
			
			script.startChapter("No");
			
				script.addDialog(Me,"No, I'm good. I'll just wait for it.");
					script.background("images/scene6.png","dissolve");
					script.show("images/Naia_smile.png", "dissolve");
				
				script.addDialog(Naia,"Great! We'll announce it on our Twitter account when the engine is available online.");
				
				script.addDialog(Naia,"Bye.");
				
			script.endChapter(function(){
				screen.changeView("main");
			});
			
			
			//set the Book to the reader
			reader.setBook(script);
			reader.startAt("Start");
			
			//align the buttons to bottom centered
			start.alignX("left");
			start.alignY("bottom");
			
			continu.setX(50 - (continu.getWidth()/2));
			continu.alignY("bottom");
			
			exit.alignX("right");
			exit.alignY("bottom");
			
			//Set event listener for each button
			start.eventListener("click", function(){
				screen.changeView("game");
				reader.read();
			});
			
			continu.eventListener("click", function(){
				//screen.changeView("game");
				console.log("continue");
			});
			
			exit.eventListener("click", function(){
				screen.closeWindow();
			});
			
			//Setup the screen
			screen.createLayer("main");
			screen.addLayerView("main", "images/scene6.png");
			screen.addToLayer("main", start);
			screen.addToLayer("main", continu);
			screen.addToLayer("main", exit);
			
			screen.createLayer("game");
			screen.addToLayer("game", reader);
			
			screen.open();
			screen.setPageIcon("images/Naia_happy.png");
		</script>
	</body>
</html>